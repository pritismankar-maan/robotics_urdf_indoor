ekf_fusion_node:
  ros__parameters:
    # Topics
    odom_topic: "/odom_est"
    imu_topic: "/imu/data"
    fused_topic: "/odom_fused"
    frame_id: "odom"

    # EKF Matrices (flattened row-major 3x3)
    # Increase R to reduce lidar influence
    R: [30.0, 0.0, 0.0,
        0.0, 30.0, 0.0,
        0.0, 0.0, 60.0]

    # Slightly increase Q if encoder/IMU uncertainty is higher
    Q: [0.0001, 0.0, 0.0,
        0.0, 0.0001, 0.0,
        0.0, 0.0, 0.00001]

    # Initial covariance
    P_init: [0.01, 0.0, 0.0,
             0.0, 0.01, 0.0,
             0.0, 0.0, 0.01]         

    # Optional tuning
    max_dt: 0.1

